{% extends 'user/userindex.html' %}
{% load widget_tweaks %}
{% block title %}Address{% endblock %}

{% block content %}
{% load static %}

{% if messages %}
{% for message in messages %}
<script>
    alert('{{ message }}');
</script>
{% endfor %}
{% endif %}


<!-- Breadcrumb Start -->
<div class="container-fluid mt-3 mb-3">
    <div class="row px-xl-5">
        <div class="col-12">
            <nav aria-label="breadcrumb" style="background-color: #ffffff;">
                <ol class="breadcrumb  px-3 py-3">
                    <li class="breadcrumb-item"><a href="#" class="text-dark text-decoration-none">Home</a></li>
                    <li class="breadcrumb-item"><a href="#" class="text-dark text-decoration-none">Users</a></li>
                    <li class="breadcrumb-item active text-dark" aria-current="page">Address</li>
                </ol>
            </nav>
        </div>
    </div>
</div>
<!-- Breadcrumb End -->

<div class="container-fluid mt-3">
    <h5 class="section-title position-relative mx-xl-5 mb-3">
        <span class="bg-light pe-3">Manage Addresses</span>
    </h5>
    <div class="row px-xl-5">
        <div class="col-md-12">
            <div class="bg-white rounded px-4 py-4">

                {% block add-address %}
                <a href="{% url 'add-address' %}" class="d-block btn text-uppercase fw-bold my-4"
                    style="border: 2px solid grey !important;">
                    <i class="fa-solid fa-plus me-2"></i> Add a
                    New Address</a>
                {% endblock %}

                {% block edit-address %}
                {% for i in addresses %}
                <div class="card mb-4 mt-4" style="border: 2px solid grey;">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="card-title mb-0">{{i.customer_name}}</h5>
                            <div class="dropdown">
                                <button class="btn btn-dark" type="button" id="dropdownMenuButton1"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fa-solid fa-ellipsis-vertical fs-4" style="color: #ffc107; "></i>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                                    <li><a class="dropdown-item" href="{% url 'edit-address' i.id %}">Edit</a></li>
                                    <li><a class="dropdown-item" href="{% url 'delete-address' i.id %}">Delete</a></li>
                                </ul>
                            </div>
                        </div>
                        <p class="card-text">{{i.phone}}, {{i.alt_phone}}</p>
                        <p class="card-text">
                            {{i.street}}, {{i.landmark}}, {{i.city}}, {{i.state}}, {{i.country}} - {{i.pincode}}
                        </p>
                    </div>
                </div>
                {% endfor %}

                {% endblock %}
            </div>
        </div>
    </div>
</div>


{% endblock %}